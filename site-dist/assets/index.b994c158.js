import{F}from"./index.cdcf7a30.js";import{P as y}from"./index.b6a5a3b7.js";import{c as P,e as $,u as H}from"./use-translate.f00dec62.js";import{b as J,t as D,m as X,n as K,w as L}from"./with-install.8c05f7e9.js";import{T as W,a as Z}from"./index.85b17bff.js";import{I as k}from"./index.bd074117.js";import{z as B,D as j,x as T,e as n,L as q,q as N,B as G,r as Q,o as Y,a as I,w as C,A as e,F as M}from"./vue-libs.dea03542.js";import{d as R}from"./deep-clone.0c9ce2b7.js";import"./constant.bdedcaa1.js";import"./index.45245c12.js";import"./use-route.8c8b61a6.js";import"./use-expose.e5d76f3d.js";import"./index.d48d155f.js";import"./useParent.e8f23fef.js";import"./interceptor.3309ba7f.js";import"./use-touch.8bab3413.js";import"./index.c020d7aa.js";import"./utils.51167448.js";import"./index.9fc8b336.js";import"./use-lazy-render.4ae98f04.js";import"./on-popup-reopen.f4e064e0.js";import"./index.3d14facd.js";import"./index.f3fd5100.js";import"./useChildren.3c3a8afb.js";import"./use-refs.ca62e258.js";import"./index.d1cfdb12.js";function S(r){return typeof r=="function"||Object.prototype.toString.call(r)==="[object Object]"&&!q(r)}const[_,b,ee]=P("cascader");var te=B({name:_,props:{title:String,options:J(),closeable:D,swipeable:D,closeIcon:X("cross"),modelValue:K,fieldNames:Object,placeholder:String,activeColor:String},emits:["close","change","finish","update:modelValue","click-tab"],setup(r,{slots:u,emit:m}){const s=j({tabs:[],activeTab:0}),{text:v,value:p,children:h}=$({text:"text",value:"value",children:"children"},r.fieldNames),V=(o,a)=>{for(const d of o){if(d[p]===a)return[d];if(d[h]){const c=V(d[h],a);if(c)return[d,...c]}}},E=()=>{if(r.modelValue||r.modelValue===0){const o=V(r.options,r.modelValue);if(o){let a=r.options;s.tabs=o.map(d=>{const c={options:a,selected:d},f=a.find(A=>A[p]===d[p]);return f&&(a=f[h]),c}),a&&s.tabs.push({options:a,selected:null}),N(()=>{s.activeTab=s.tabs.length-1});return}}s.tabs=[{options:r.options,selected:null}]},w=(o,a)=>{if(o.disabled)return;if(s.tabs[a].selected=o,s.tabs.length>a+1&&(s.tabs=s.tabs.slice(0,a+1)),o[h]){const f={options:o[h],selected:null};s.tabs[a+1]?s.tabs[a+1]=f:s.tabs.push(f),N(()=>{s.activeTab++})}const d=s.tabs.map(f=>f.selected).filter(Boolean),c={value:o[p],tabIndex:a,selectedOptions:d};m("update:modelValue",o[p]),m("change",c),o[h]||m("finish",c)},x=()=>m("close"),t=({name:o,title:a})=>m("click-tab",o,a),i=()=>n("div",{class:b("header")},[n("h2",{class:b("title")},[u.title?u.title():r.title]),r.closeable?n(k,{name:r.closeIcon,class:b("close-icon"),onClick:x},null):null]),l=(o,a,d)=>{const c=a&&o[p]===a[p],f=o.color||(c?r.activeColor:void 0),A=u.option?u.option({option:o,selected:c}):n("span",null,[o[v]]);return n("li",{class:[b("option",{selected:c,disabled:o.disabled}),o.className],style:{color:f},onClick:()=>w(o,d)},[A,c?n(k,{name:"success",class:b("selected-icon")},null):null])},g=(o,a,d)=>n("ul",{class:b("options")},[o.map(c=>l(c,a,d))]),U=(o,a)=>{let d;const{options:c,selected:f}=o,A=f?f[v]:r.placeholder||ee("select");return n(Z,{title:A,titleClass:b("tab",{unselected:!f})},S(d=g(c,f,a))?d:{default:()=>[d]})},z=()=>{let o;return n(W,{active:s.activeTab,"onUpdate:active":a=>s.activeTab=a,animated:!0,class:b("tabs"),color:r.activeColor,swipeThreshold:0,swipeable:r.swipeable,"onClick-tab":t},S(o=s.tabs.map(U))?o:{default:()=>[o]})};return E(),T(()=>r.options,E,{deep:!0}),T(()=>r.modelValue,o=>{(o||o===0)&&s.tabs.map(d=>{var c;return(c=d.selected)==null?void 0:c[p]}).includes(o)||E()}),()=>n("div",{class:b()},[i(),z()])}});const O=L(te);var le=[{text:"\u6D59\u6C5F\u7701",value:"330000",children:[{text:"\u676D\u5DDE\u5E02",value:"330100",children:[{text:"\u4E0A\u57CE\u533A",value:"330102"},{text:"\u4E0B\u57CE\u533A",value:"330103"},{text:"\u6C5F\u5E72\u533A",value:"330104"}]},{text:"\u5B81\u6CE2\u5E02",value:"330200",children:[{text:"\u6D77\u66D9\u533A",value:"330203"},{text:"\u6C5F\u5317\u533A",value:"330205"},{text:"\u5317\u4ED1\u533A",value:"330206"}]},{text:"\u6E29\u5DDE\u5E02",value:"330300",children:[{text:"\u9E7F\u57CE\u533A",value:"330302"},{text:"\u9F99\u6E7E\u533A",value:"330303"},{text:"\u74EF\u6D77\u533A",value:"330304"}]}]},{text:"\u6C5F\u82CF\u7701",value:"320000",children:[{text:"\u5357\u4EAC\u5E02",value:"320100",children:[{text:"\u7384\u6B66\u533A",value:"320102"},{text:"\u79E6\u6DEE\u533A",value:"320104"},{text:"\u5EFA\u90BA\u533A",value:"320105"}]},{text:"\u65E0\u9521\u5E02",value:"320200",children:[{text:"\u9521\u5C71\u533A",value:"320205"},{text:"\u60E0\u5C71\u533A",value:"320206"},{text:"\u6EE8\u6E56\u533A",value:"320211"}]},{text:"\u5F90\u5DDE\u5E02",value:"320300",children:[{text:"\u9F13\u697C\u533A",value:"320302"},{text:"\u4E91\u9F99\u533A",value:"320303"},{text:"\u8D3E\u6C6A\u533A",value:"320305"}]}]}],oe=[{text:"Zhejiang",value:"330000",children:[{text:"Hangzhou",value:"330100",children:[{text:"Shangcheng",value:"330102"},{text:"Xiacheng",value:"330103"},{text:"Jianggan",value:"330104"}]},{text:"Ningbo",value:"330200",children:[{text:"Haishu",value:"330203"},{text:"Jiangbei",value:"330205"},{text:"Beilun",value:"330206"}]},{text:"Wenzhou",value:"330300",children:[{text:"Lucheng",value:"330302"},{text:"Longwan",value:"330303"},{text:"Ouhai",value:"330304"}]}]},{text:"Jiangsu",value:"320000",children:[{text:"Nanjing",value:"320100",children:[{text:"Xuanwu",value:"320102"},{text:"Qinghuai",value:"320104"},{text:"Jianye",value:"320105"}]},{text:"Wuxi",value:"320200",children:[{text:"Xishan",value:"320205"},{text:"Huishan",value:"320206"},{text:"Binhu",value:"320211"}]},{text:"Xuzhou",value:"320300",children:[{text:"Gulou",value:"320302"},{text:"Yunlong",value:"320303"},{text:"Jiawang",value:"320305"}]}]}];const ke=B({setup(r){const u=H({"zh-CN":{area:"\u5730\u533A",options:le,selectArea:"\u8BF7\u9009\u62E9\u5730\u533A",customColor:"\u81EA\u5B9A\u4E49\u989C\u8272",asyncOptions:"\u5F02\u6B65\u52A0\u8F7D\u9009\u9879",asyncOptions1:[{text:"\u6D59\u6C5F\u7701",value:"330000",children:[]}],asyncOptions2:[{text:"\u676D\u5DDE\u5E02",value:"330100"},{text:"\u5B81\u6CE2\u5E02",value:"330200"}],customFieldNames:"\u81EA\u5B9A\u4E49\u5B57\u6BB5\u540D"},"en-US":{area:"Area",options:oe,selectArea:"Select Area",customColor:"Custom Color",asyncOptions:"Async Options",asyncOptions1:[{text:"Zhejiang",value:"330000",children:[]}],asyncOptions2:[{text:"Hangzhou",value:"330100"},{text:"Ningbo",value:"330200"}],customFieldNames:"Custom Field Names"}}),m=j({show:!1,value:"",result:""}),s=j({show:!1,value:null,result:""}),v=j({show:!1,value:null,result:"",options:u("asyncOptions1")}),p=j({show:!1,value:null,result:""}),h={text:"name",value:"code",children:"items"},V=G(()=>{const x=R(u("options")),t=i=>{"text"in i&&(i.name=i.text,delete i.text),"value"in i&&(i.code=i.value,delete i.value),"children"in i&&(i.items=i.children,delete i.children,i.items.forEach(t))};return x.forEach(t),x}),E=({value:x})=>{x==="330000"&&setTimeout(()=>{v.options[0].children=u("asyncOptions2")},500)},w=(x,{value:t,selectedOptions:i})=>{const l=i.map(g=>g.text||g.name).join("/");x.show=!1,x.value=t,x.result=l};return(x,t)=>{const i=Q("demo-block");return Y(),I(M,null,[n(i,{card:"",title:e(u)("basicUsage")},{default:C(()=>[n(e(F),{modelValue:e(m).result,"onUpdate:modelValue":t[0]||(t[0]=l=>e(m).result=l),"is-link":"",readonly:"",label:e(u)("area"),placeholder:e(u)("selectArea"),onClick:t[1]||(t[1]=l=>e(m).show=!0)},null,8,["modelValue","label","placeholder"]),n(e(y),{show:e(m).show,"onUpdate:show":t[5]||(t[5]=l=>e(m).show=l),round:"",teleport:"body",position:"bottom"},{default:C(()=>[n(e(O),{modelValue:e(m).value,"onUpdate:modelValue":t[2]||(t[2]=l=>e(m).value=l),title:e(u)("selectArea"),options:e(u)("options"),onClose:t[3]||(t[3]=l=>e(m).show=!1),onFinish:t[4]||(t[4]=l=>w(e(m),l))},null,8,["modelValue","title","options"])]),_:1},8,["show"])]),_:1},8,["title"]),n(i,{card:"",title:e(u)("customColor")},{default:C(()=>[n(e(F),{modelValue:e(s).result,"onUpdate:modelValue":t[6]||(t[6]=l=>e(s).result=l),"is-link":"",readonly:"",label:e(u)("area"),placeholder:e(u)("selectArea"),onClick:t[7]||(t[7]=l=>e(s).show=!0)},null,8,["modelValue","label","placeholder"]),n(e(y),{show:e(s).show,"onUpdate:show":t[11]||(t[11]=l=>e(s).show=l),round:"",teleport:"body",position:"bottom"},{default:C(()=>[n(e(O),{modelValue:e(s).value,"onUpdate:modelValue":t[8]||(t[8]=l=>e(s).value=l),title:e(u)("selectArea"),options:e(u)("options"),"active-color":"#1989fa",onClose:t[9]||(t[9]=l=>e(s).show=!1),onFinish:t[10]||(t[10]=l=>w(e(s),l))},null,8,["modelValue","title","options"])]),_:1},8,["show"])]),_:1},8,["title"]),n(i,{card:"",title:e(u)("asyncOptions")},{default:C(()=>[n(e(F),{modelValue:e(v).result,"onUpdate:modelValue":t[12]||(t[12]=l=>e(v).result=l),"is-link":"",readonly:"",label:e(u)("area"),placeholder:e(u)("selectArea"),onClick:t[13]||(t[13]=l=>e(v).show=!0)},null,8,["modelValue","label","placeholder"]),n(e(y),{show:e(v).show,"onUpdate:show":t[17]||(t[17]=l=>e(v).show=l),round:"",teleport:"body",position:"bottom"},{default:C(()=>[n(e(O),{modelValue:e(v).value,"onUpdate:modelValue":t[14]||(t[14]=l=>e(v).value=l),title:e(u)("selectArea"),options:e(v).options,onClose:t[15]||(t[15]=l=>e(v).show=!1),onChange:E,onFinish:t[16]||(t[16]=l=>w(e(v),l))},null,8,["modelValue","title","options"])]),_:1},8,["show"])]),_:1},8,["title"]),n(i,{card:"",title:e(u)("customFieldNames")},{default:C(()=>[n(e(F),{modelValue:e(p).result,"onUpdate:modelValue":t[18]||(t[18]=l=>e(p).result=l),"is-link":"",readonly:"",label:e(u)("area"),placeholder:e(u)("selectArea"),onClick:t[19]||(t[19]=l=>e(p).show=!0)},null,8,["modelValue","label","placeholder"]),n(e(y),{show:e(p).show,"onUpdate:show":t[23]||(t[23]=l=>e(p).show=l),round:"",teleport:"body",position:"bottom","safe-area-inset-bottom":""},{default:C(()=>[n(e(O),{modelValue:e(p).value,"onUpdate:modelValue":t[20]||(t[20]=l=>e(p).value=l),title:e(u)("selectArea"),options:e(V),"field-names":h,onClose:t[21]||(t[21]=l=>e(p).show=!1),onFinish:t[22]||(t[22]=l=>w(e(p),l))},null,8,["modelValue","title","options"])]),_:1},8,["show"])]),_:1},8,["title"])],64)}}});export{ke as default};
